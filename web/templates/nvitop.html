<!DOCTYPE html>
<html>
<head>
    <title>Nvitop Output</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"></script>
    <script type="text/javascript">
        let host = window.location.hostname;
        let port = window.location.port;
        let socket = io.connect('http://' + host + ':' + port);

        // 在控制台输出连接信息
        socket.on('connect', function () {
            console.log('已连接到 Socket.IO 服务器');
        });

        // 在控制台输出断开连接信息
        socket.on('disconnect', function () {
            console.log('已断开与 Socket.IO 服务器的连接');
        });

        socket.on('nvitop_output', function (data) {
            let outputElement = document.getElementById('output');
            // outputElement.innerHTML = '';
            // outputElement.innerHTML += data.output + '<br>';
            outputElement.innerHTML = data.output + '<br>';
        });
    </script>
</head>
<body>
<h1>Nvitop Output</h1>
<pre id="output"></pre>
</body>
</html>