<!DOCTYPE html>
<html>
<head>
    <title>NVITOP Output</title>
    <script src="{{ url_for('static', filename='js/socket.io.4.4.1.js') }}"></script>
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"></script>-->
    <script type="text/javascript">
        let host = window.location.hostname;
        let port = window.location.port;
        let socket = io.connect('http://' + host + ':' + port);

        // 在控制台输出连接信息
        socket.on('connect', function () {
            console.log('Connected to Socket.IO Server');
        });

        // 在控制台输出断开连接信息
        socket.on('disconnect', function () {
            console.log('Disconnected from Socket.IO Server');
        });

        socket.on('nvitop_output', function (data) {
            let outputElement = document.getElementById('output');
            // outputElement.innerHTML = '';
            // outputElement.innerHTML += data.output + '<br>';
            outputElement.innerHTML = data.output + '<br>';
        });
    </script>
</head>
<body>
<h1>NVITOP Realtime Output</h1>
<pre id="output"></pre>
</body>
</html>