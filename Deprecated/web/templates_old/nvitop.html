<!DOCTYPE html>
<html>
<head>
    <title>NVITOP Output</title>
    <script src="{{ url_for('static', filename='js/socket.io.4.4.1.js') }}"/>
    <script type="text/javascript">
        let host = window.location.hostname;
        let port = window.location.port;
        let socket = io.connect('http://' + host + ':' + port);

        // Connect to Socket.IO Server
        socket.on('connect', function () {
            // log connection message
            console.log('Connected to Socket.IO Server');
        });

        // Disconnect from Socket.IO Server
        socket.on('disconnect', function () {
            // log disconnection message
            console.log('Disconnected from Socket.IO Server');
        });

        socket.on('nvitop_output', function (data) {
            let outputElement = document.getElementById('output');
            // outputElement.innerHTML = '';
            // outputElement.innerHTML += data.output + '<br>';
            outputElement.innerHTML = data.output + '<br>';
        });
    </script>
</head>
<body>
    <h1>NVITOP Realtime Output</h1>
    <pre id="output"></pre>
</body>
</html>